$(function(){function e(e){var t="./includes/"+e.attr("id")+".php";return e.attr("template-path")&&(t=e.attr("template-path")+"/includes/"+e.attr("id")+".php"),t}$("input,textarea").jqBootstrapValidation({preventSubmit:!0,submitSuccess:function(t,n){if(!t.attr("action")){n.preventDefault();var o=e(t),i={};t.find("input, textarea, option:selected").each(function(e){var t=$(this).val(),n=$(this).attr("id");$(this).is(":checkbox")?t=$(this).is(":checked"):$(this).is(":radio")?t=$(this).val()+" = "+$(this).is(":checked"):$(this).is("option:selected")&&(n=$(this).parent().attr("id")),i[n]=t}),$.ajax({url:o,type:"POST",data:i,cache:!1,success:function(){t.is("[success-msg]")?t.append("<div id='form-alert'><div class='alert alert-success'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button><strong>"+t.attr("success-msg")+"</strong></div></div>"):window.location.replace(t.attr("success-url")),t.trigger("reset")},error:function(){0==$("#form-alert").length&&t.append("<div id='form-alert'><div class='alert alert-danger'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button><strong>"+t.attr("fail-msg")+"</strong></div></div>")}})}},filter:function(){return $(this).is(":visible")}})});